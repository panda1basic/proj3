# Практика Docker

**Цель**: Научиться создавать Dockerfile для сборки образов и `docker-compose.yml` для оркестрации сервисов.

---

## Стек

* **Rocket.Chat** (чат-сервис) ✅
* **Redmine** (трекер задач) ✅
* **GitLab** (планируется) ⬜️
* **PostgreSQL** (база данных для Redmine) ✅
* **MongoDB** (база данных для Rocket.Chat) ✅
* **Prometheus** (мониторинг) ⬜️
* **Grafana** (дашборды) ⬜️

---

## Установка и запуск

1. **Клонируйте репозиторий**:

   ```bash
    git clone https://github.com/panda1basic/proj3.git
    cd proj3
   ```

2. **Подготовьте переменные окружения** (при необходимости отредактируйте `docker-compose.yml`).

3. **Запустите сервисы**:

   ```bash
   docker-compose up -d
   ```

4. **Проверьте состояние**:

   ```bash
   docker-compose ps
   ```

5. **Откройте веб-интерфейсы**:

   * Redmine: `http://localhost:3000`
   * Rocket.Chat: `http://localhost:3001`
   * (в будущем) GitLab: `http://localhost:8080`
   * (в будущем) Prometheus: `http://localhost:9090`
   * (в будущем) Grafana: `http://localhost:3002`

---

## Структура проекта

* `docker-compose.yml` — описание всех сервисов в одном файле.
* `Dockerfile.redmine` — пример кастомизации образа Redmine (установка плагинов).
* `prometheus.yml` — конфигурация Prometheus (когда подключится).

---

## Краткий гайд по Dockerfile и Compose

1. **Dockerfile**

   * Базовый образ (`FROM`)
   * Установка зависимостей (`RUN apt-get install ...`)
   * Копирование кода и конфигураций (`COPY`)
   * Установка прав и пользователя (`USER`)
   * Команда запуска (`CMD` или `ENTRYPOINT`)

2. **docker-compose.yml**

   * Описание сервисов, сетей и томов.
   * Переменные окружения для подключения сервисов друг к другу.
   * Проброс портов и монтирование томов.

---

## Дальнейшие шаги

* Добавить и настроить **GitLab** с внешней базой PostgreSQL.
* Интегрировать **Redmine** как внешний трекер в GitLab.
* Подключить **Prometheus** и **Grafana** для сбора метрик и визуализации.
* Настроить автоматическое резервное копирование данных томов.

---

## Обратная связь

Если возникли вопросы или предложения, создайте issue в репозитории

---

